node('Linux'){
stage('scm-checkout')
checkout([$class: 'GitSCM', branches: [[name: '*/master']], doGenerateSubmoduleConfigurations: false, extensions: [], submoduleCfg: [], userRemoteConfigs: [[url: 'https://github.com/deepakbhattarai/maven-project.git']]])
echo 'test build'
stage('build')
if (env in ["build"]){
   sh 'mvn clean install'
}
stage('archive')
archiveArtifacts '**/target/*.war'
stage('deploy')
echo 'deploying war file'
}
